<div>
    <mat-toolbar color="primary">
        <span>{{ title }}</span>
      </mat-toolbar>

  <div *ngIf="auth.user | async; then authenticated else guest"></div>

</div>

<ng-template #guest>
  <mat-card>
    <mat-card-content>
      <mat-form-field>
        <input [(ngModel)]="email" matInput placeholder="email" type="email" required>
      </mat-form-field>
      <mat-form-field>
        <input [(ngModel)]="password" matInput placeholder="password" type="password" required>
      </mat-form-field>
      <p *ngIf="error">{{error}}</p>
      <button (click)="signIn(email,password)" mat-raised-button color="primary">Login</button>
    </mat-card-content>
  </mat-card>
</ng-template>

<ng-template #authenticated>
  <mat-card *ngIf="auth.user | async as user">
    <mat-card-header>
      <img mat-card-avatar [src]="user.photoURL">
      <mat-card-title> {{user.displayName}} </mat-card-title>
      <mat-card-subtitle> {{user.email}} </mat-card-subtitle>
    </mat-card-header>
    <mat-card-actions>
      <button (click)="auth.signOut()" mat-button>Logout</button>
    </mat-card-actions>
  </mat-card>
  <br>
  <app-events></app-events>
</ng-template>